<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>clubcast - the ultimate edm podcast compilation updated hourly</title>
    <meta name="description" content="Compilation of latest and greatest EDM podcasts updated hourly">
    <meta name="author" content="clubcast">
    <link href="./bower_components/bulma/css/bulma.css" rel="stylesheet">
    <link href="./bower_components/animate.css/animate.css" rel="stylesheet">
    <link href="style.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Open+Sans|Roboto+Condensed|Slabo+27px" rel="stylesheet">
    <link href="style.css" rel="stylesheet">
  </head>
  <body id="app" v-cloak>

    <section class="hero is-bold is-dark">
      <div class="hero-body">
        <div class="container">
          <div class="title">
            <p class="title">clubcast</p>
            <p class="subtitle">the ultimate edm podcast compilation</p>
          </div>
        </div>
      </div>
      <div class="hero-footer">
        <div class="level">
          <div class="level-item has-text-centered">
          <a class="button is-danger" href="https://github.com/stevensona/clubcast2-ui">Work in progress! Some things do not work as expected!</a>
          </div>
        </div>
      </div>
    </section>

    <section class="section">
      <div class="container">
        <div class="columns">
          <div class="column is-narrow">
            <aside class="menu">
              <!--<p class="menu-label">Collections</p>
              <ul class="menu-list">
                <li><a v-link="{ path: '/latest' }"><span>Latest</span></a>
                <li><a v-link="{ path: '/random' }"><span>Random</span></a>
              </ul>
              <p class="menu-label">Genres</p>
              <ul class="menu-list">
                <li v-for="genre in genres"><a v-link="{ path: '/genre/' + genre }"><span>{{ genre }}</span></a>
              </ul>--> 
              <p class="menu-label">Artists</p>
              <ul class="menu-list">
                <li v-for="podcast in podcasts"><a v-link="{ path: '/artist/' + podcast.art }"><span>{{ podcast.art }}</span></a>
              </ul>             
            </aside>
          </div>
          <router-view :episodes="episodes" :podcasts="podcasts" :audio="audio"></router-view>
        </div>
      </div>
    </section>

    <footer class="footer">
      <div class="container">
        <div class="content has-text-centered">
          <p>
            created by <a href="http://adamstevenson.me">Adam Stevenson</a>. Thanks for stopping by. Last updated 7-AUG-2016 00:00 EDT.
          </p>
        </div>
      </div>
    </footer>

 
    <template id="latest">
        <now-playing :playing="playing"></now-playing>
        <div class="column">    
          
          <div class="title">
            <p class="title">{{podcasts[$route.params.artist].title}}</p>
            <p class="subtitle">{{podcasts[$route.params.artist].sum}}</p>
          </div>
          <div class="columns is-multiline">
            <episode v-for="episode in episodes | filterBy $route.params.artist in 'art' | orderBy sortDate -1 | limit 12"
              :episode="episode"
              :play="play">
            </episode>
          </div>
        </div>
    </template>

    <template id="playlist">
        
        <div class="column">    
        <now-playing :playing="playing"></now-playing>  
          <div class="title">
            <p class="title">{{podcasts[$route.params.artist].title}}</p>
            <p class="subtitle">{{podcasts[$route.params.artist].sum}}</p>
          </div>
          <div class="columns is-multiline">
            <episode v-for="episode in episodes | filterBy $route.params.artist in 'art' | orderBy sortDate -1 | limit 12"
              :episode="episode"
              :play="play">
            </episode>
          </div>
        </div>
    </template>

    <template id="episode">
        <div class="column is-one-third animated" transition="zoom">
          <div class="card">
            <div class="card-image">
              <figure class="image is-square"><a @click="play(episode)"><img v-bind:src="episode.img" alt=""></a></figure>
            </div>
            <div class="card-content">
              <div class="media">
                <!--<div class="media-left">
                  <figure class="image is-32x32"><img v-bind:src="thumbnail" alt=""></figure>
                </div>-->
                <div class="media-content">
                  <p class="title is-5">{{episode.title}}</p>
                  <p class="subtitle is-6">{{episode.art}}</p>
                </div>
              </div>
              <div class="content">
                {{episode.dur}}
                <small>{{episode.dat}}</small>
              </div>
            </div>
          </div>
        </div>
    </template>
    <template id="now-playing">
        <div class="container" v-show="playing">
          <nav class="panel">
            <div class="panel-heading">Now Playing</div>      
            <div class="panel-block">
              <article class="media">
                <figure class="media-left">
                  <p class="image is-96x96"><img v-bind:src="playing.img"></p>
                </figure>
                <div class="media-content">
                  <div class="content">
                    <p><strong>{{playing.title}}</strong> <small>{{playing.art}}</small></p>
                    <p><audio src="" preload="none" /></p>
                    <!--<p>{{{playing.summary}}}</p>-->
                  </div>
                </div>
              <div class="media-right">
                <!--<a class="button">Show Tracklist</a><br>
                <a class="button">Download</a>-->
              </div>
              </article>
            </div>
          </nav>
        </div>
    </template>

    <!-- TODO: google analytics -->
    <script type="text/javascript" src="./bower_components/audiojs/audiojs/audio.js"></script>
    <script type="text/javascript" src="./bower_components/vue/dist/vue.js"></script>
    <script type="text/javascript" src="./bower_components/vue-router/dist/vue-router.js"></script>
    <script type="text/javascript" src="./bower_components/jQuery/dist/jquery.js"></script>
    <script type="text/javascript" src="app.js"></script>

  </body>
</html>